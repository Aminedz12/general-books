%%importing packages
\usepackage{pifont}
\usepackage{fontspec}
\usepackage{fancyhdr}
\usepackage{polyglossia}

\setdefaultlanguage{sanskrit} % main language
\setotherlanguages{kannada,english,hindi} % other languages 
\setmainfont{Sanskrit2003} % main font

% font declarations for the other languages
\newfontfamily\englishfont[Script=Latin,AutoFakeBold=1.2,AutoFakeSlant=0.15]{Gentium Basic}
%~ \newfontfamily\devanagarifont[Script=Devanagari,AutoFakeBold=2,AutoFakeSlant=0.15]{Sanskrit2003}
\newfontfamily\devanagarifont[Script=Devanagari,AutoFakeBold=2,AutoFakeSlant=0.15]{SHREE_DEV_OTF_0701}
\newfontfamily\kannadafont[Script=Kannada,AutoFakeBold=3,AutoFakeSlant=0.15,HyphenChar="200C]{SHREE_KAN_OTF_0850}

\def\eng#1{{\englishfont\textenglish{#1}}}
\def\kan#1{{\kannadafont\textkannada{#1}}}
\def\dev#1{{\devanagarifont\textsanskrit{#1}}}

\setlength\parindent{0cm} % no indent for this example


%%page settings for the book
\usepackage[papersize={140mm,215mm},textwidth=110mm,
textheight=170mm,headheight=6mm,headsep=4mm,topmargin=17.5mm,botmargin=1.15cm,
leftmargin=15mm,rightmargin=15mm,cropmarks,footskip=0.6cm]{zwpagelayout}


%%fancy header settings
\fancypagestyle{plain}{%
\chead[]{}
\lhead[]{}
\rhead[]{}
\cfoot[{\eng{\thepage}}]{{\eng{\thepage}}}
}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}


%%user defined commands


%~ \long\def\Authorline#1{\centerline{\large\textbf{#1}}\medskip\centerline{\hbox{\raise3.5pt\hbox{\rule{2cm}{0.4pt}}}\thinspace\ding{104}\thinspace\hbox{\raise3.5pt\hbox{\rule{2cm}{0.4pt}}}}\vskip 0.75\baselineskip}
\long\def\Authorline#1{\centerline{\large\textbf{#1}}}

%%general settings
\pretolerance=9000
\parindent=15pt
\setlength{\parskip}{0pt}

%%redefining macros
\makeatletter

\renewcommand\chaptermark[1]{\markboth{#1}{}}

\renewcommand\part{%
  \if@openright
    \cleardoublepage
  \else
    \clearpage
  \fi
  \thispagestyle{empty}%
  \if@twocolumn
    \onecolumn
    \@tempswatrue
  \else
    \@tempswafalse
  \fi
  \null\vfil
  \secdef\@part\@spart}

\def\@part[#1]#2{%
    \ifnum \c@secnumdepth >-2\relax
      \refstepcounter{part}%
      \addcontentsline{toc}{part}{\eng{\thepart}\hspace{1em}#1}%
    \else
      \addcontentsline{toc}{part}{#1}%
    \fi
    \markboth{}{}%
    {\centering
     \interlinepenalty \@M
     \normalfont
     \ifnum \c@secnumdepth >-2\relax
       \huge\bfseries \partname\nobreakspace\thepart
       \par
       \vskip 20\p@
     \fi
     \Huge \bfseries #2\par}%
    \@endpart}

\def\@makechapterhead#1{%
  \vspace*{10\p@}%
  {\parindent \z@ \centering \normalfont
    \ifnum \c@secnumdepth >\m@ne
      %~ \if@mainmatter
        %~ \huge\bfseries \@chapapp\space \thechapter
        %~ \par\nobreak
        %~ \vskip 20\p@
      %~ \fi
    \fi
    \interlinepenalty\@M
    \Huge \bfseries #1\par\nobreak
    \vskip 15\p@
}}

\renewcommand\section{\@startsection {section}{1}{\z@}%
                                   {-2.2ex \@plus -1.3ex \@minus -.3ex}%
                                   {1ex \@plus.2ex}%
                                   {\normalfont\Large\bfseries}}

\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
                                     {-2.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\normalfont\large\bfseries}}

\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
                                     {3.25ex\@plus -4ex \@minus -.6ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\normalfont\normalsize\bfseries}}

\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
                                    {-3.25ex \@plus -1ex \@minus -.2ex}%
                                    {1em}%
                                    {\normalfont\normalsize\bfseries}}
                                                                         
\renewenvironment{thebibliography}[1]
     {\section*{}%
      %~ \@mkboth{\MakeUppercase\bibname}{\MakeUppercase\bibname}%
      \list{\@biblabel{\@arabic\c@enumiv}}%
           {\settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth
            \advance\leftmargin\labelsep
            \@openbib@code
            \usecounter{enumiv}%
            \let\p@enumiv\@empty
            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
      \sloppy
      \clubpenalty4000
      \@clubpenalty \clubpenalty
      \widowpenalty4000%
      \sfcode`\.\@m}
     {\def\@noitemerr
       {\@latex@warning{Empty `thebibliography' environment}}%
      \endlist}

\def\@makeschapterhead#1{%
  \vspace*{50\p@}%
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Huge \bfseries  #1\par\nobreak
    \vskip 40\p@
  }}

\renewcommand\tableofcontents{%
    \if@twocolumn
      \@restonecoltrue\onecolumn
    \else
      \@restonecolfalse
    \fi
    \chapter*{\kan{\contentsname}
        \@mkboth{%
           \MakeUppercase\contentsname}{\MakeUppercase\contentsname}}%
    \@starttoc{toc}%
    \if@restonecol\twocolumn\fi
    }
\makeatother

\def\addrule{\rule{\textwidth}{0.2pt}}
\def\articleend{\bigskip\centerline{\ding{97}\quad\ding{97}\quad\ding{97}}\medskip}
